---
cover: 'https://images.unsplash.com/photo-1604385793925-e1c5f0636849?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2100&q=80'
coverWidth: 1200
coverHeight: 750
title:	XSS攻击
categories:	前端安全
tags: 前端安全
top:
permalink:
---
前端知识回顾之 - XSS攻击

<!--more-->

## XSS攻击



#### 1.什么是xss攻击

- xss攻击即跨站脚本攻击,是一种恶意代码注入攻击,攻击者通过在网站上面注入恶意代码,使之在浏览器上面运行,从而获取用户的敏感信息如cookie等
- xss的本质是因为网站没有对恶意代码进行过滤, 与正常代码混在一起,但是浏览器不能识别代码哪些可信哪些不可信,从而导致了恶意代码的执行.

#### 2.XSS攻击分类

- 存储型

  > 存储型XSS攻击是将恶意代码提交到网站服务器中,当用户请求数据的时候,服务器将恶意代码拼接到HTML里面后返回,导致恶意代码的执行

- 反射型

  > 反射型指的是某些通过url参数获取数据的网站,攻击者构建特殊的url,当服务器收到请求之后,从url中获取数据,并将其拼接为html后返回,从而导致了恶意代码的执行

- DOM型

  > DOM型XSS攻击指的是攻击者构建了特殊的URL,当用户打开了网站之后,js脚本从url中获取数据,从而导致了恶意代码的执行

#### 3.如何预防XSS攻击

​	预防XSS攻击主要有两个方案

- 恶意代码提交的时候(不可靠)

  > 当数据即将存入数据库的时候进行转义,但是数据库的数据可能在多个地方使用,有些地方不需要转义,由于我们无法判断这些数据最后的使用场景,所以该方法是**不可靠的**

- 浏览器执行之前

  > - 使用纯前端的方式,不用服务器拼接HTML返回	
  > - 对需要插入的HTML进行充分的转义

- 对于DOM性XSS攻击还有以下几种方式

  > - CSP,CSP本质是简历一个白名单,告诉浏览器哪些外部资源是可以加载和执行,从而防止恶意代码的注入攻击
  > -	对敏感信息进行保护,比如cookie使用http-only,禁止脚本获取cookie
  > - 使用验证码,防止脚本伪装用户进行操作


#### 4.什么是CSP

​	CSP指的是内容安全侧策略

​	他的本质是建立一个白名单,告诉浏览器哪些外部资源可以加在和执行.

​	**开启SCP方式:**

- 一种是设置 HTTP 首部中的 `Content-Security-Policy`
- 一种是设置 meta 标签的方式 `<meta http-equiv="Content-Security-Policy">`

详细资料可以参考： [《前端安全系列（一）：如何防止 XSS 攻击？》](https://juejin.im/post/5bad9140e51d450e935c6d64)